!function(){var t=-1<navigator.userAgent.toLowerCase().indexOf("webkit"),e=-1<navigator.userAgent.toLowerCase().indexOf("opera"),i=-1<navigator.userAgent.toLowerCase().indexOf("msie");(t||e||i)&&document.getElementById&&window.addEventListener&&window.addEventListener("hashchange",function(){var t=document.getElementById(location.hash.substring(1));t&&(/^(?:a|select|input|button|textarea)$/i.test(t.tagName)||(t.tabIndex=-1),t.focus())},!1)}(),function(o){o.fn.fitText=function(t,e){var i=t||1,n=o.extend({minFontSize:Number.NEGATIVE_INFINITY,maxFontSize:Number.POSITIVE_INFINITY},e);return this.each(function(){function t(){e.css("font-size",Math.max(Math.min(e.width()/(10*i),parseFloat(n.maxFontSize)),parseFloat(n.minFontSize)))}var e=o(this);t(),o(window).on("resize.fittext orientationchange.fittext",t)})}}(jQuery),function(o){"use strict";o.fn.fitVids=function(t){var i={customSelector:null,ignore:null};if(!document.getElementById("fit-vids-style")){var e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("div");n.innerHTML='<p>x</p><style id="fit-vids-style">.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}</style>',e.appendChild(n.childNodes[1])}return t&&o.extend(i,t),this.each(function(){var t=["iframe[src*='player.vimeo.com']","iframe[src*='youtube.com']","iframe[src*='youtube-nocookie.com']","iframe[src*='kickstarter.com'][src*='video.html']","object","embed"];i.customSelector&&t.push(i.customSelector);var n=".fitvidsignore";i.ignore&&(n=n+", "+i.ignore);var e=o(this).find(t.join(","));(e=(e=e.not("object object")).not(n)).each(function(){var t=o(this);if(!(0<t.parents(n).length||"embed"===this.tagName.toLowerCase()&&t.parent("object").length||t.parent(".fluid-width-video-wrapper").length)){t.css("height")||t.css("width")||!isNaN(t.attr("height"))&&!isNaN(t.attr("width"))||(t.attr("height",9),t.attr("width",16));var e=("object"===this.tagName.toLowerCase()||t.attr("height")&&!isNaN(parseInt(t.attr("height"),10))?parseInt(t.attr("height"),10):t.height())/(isNaN(parseInt(t.attr("width"),10))?t.width():parseInt(t.attr("width"),10));if(!t.attr("id")){var i="fitvid"+Math.floor(999999*Math.random());t.attr("id",i)}t.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*e+"%"),t.removeAttr("height").removeAttr("width")}})})}}(window.jQuery||window.Zepto),function(i){({cache:{$document:i(document),$window:i(window),$postswrap:i("#posts-wrap"),masonry:!1},init:function(){this.bindEvents()},bindEvents:function(){var t=this;t.navigationInit(),0<i(".toggle-search").length&&this.toggleSearch(),this.cache.$document.on("ready",function(){t.fitVidsInit(),i("body").hasClass("masonry")&&(t.cache.masonry=!0,t.masonryInit()),i(".site-title").fitText(.8,{minFontSize:"18px",maxFontSize:"64px"})}),this.cache.$window.on("resize",t.debounce(function(){i(".main-navigation .menu").attr("style",""),i(".main-navigation").find(".children, .sub-menu").each(function(){i(this).attr("style","")}),i(".main-navigation").find(".dropdown-toggle").each(function(){i(this).removeClass("toggled")})},200)),this.cache.$window.on("resize",t.debounce(function(){t.cache.masonry&&t.masonryInit()},200))},navigationInit:function(){i(".main-navigation .menu > .menu-item-has-children").append('<span class="dropdown-toggle" />'),i(".menu-toggle").on("click",function(){var t=i(this).data("toggle");i(t).toggle()}),i(".dropdown-toggle").on("click",function(){var t=i(this).parent().find(".children,.sub-menu"),e=i(this);t.toggle(0,function(){e.toggleClass("toggled")})})},fitVidsInit:function(){i.fn.fitVids&&i(".hentry").fitVids()},toggleSearch:function(){i(".main-navigation .menu-search a").on("click",function(t){t.preventDefault();var e=i(this).data("toggle");i(this).toggleClass("active"),i(e).slideToggle("200")})},masonryInit:function(){if(!(document.body.clientWidth<=510)){var t=30;document.body.clientWidth<=880&&(t=20);var e=this.cache.$postswrap;e.imagesLoaded(function(){$posts=e.find(".module").css({"margin-right":0}).addClass("masonry"),e.masonry({itemSelector:".module",transitionDuration:0,gutter:t})}),i(document.body).on("jetpack-lazy-loaded-image",this.debounce(function(){e.masonry("reloadItems").masonry("layout")},200)),i(document.body).on("post-load",function(){var t=e.find(".module").not(".masonry");t.css({"margin-right":0}).addClass("masonry"),t.hide(),e.append(t),e.imagesLoaded(function(){e.masonry("appended",t,!0).masonry("reloadItems").masonry("layout"),t.show(200),t.fitVids()})})}},debounce:function(i,n){var o=null;return function(){var t=this,e=arguments;clearTimeout(o),o=setTimeout(function(){i.apply(t,e)},n)}}}).init()}(jQuery);